{
  "info": {
    "name": "Gestor Emocional Backend API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Colección de endpoints para el backend de gestión emocional, organizada por funcionalidades y pasos lógicos."
  },
  "item": [
    {
      "name": "Autenticación y Usuario",
      "item": [
        {
          "name": "Registrar usuario",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{base_url}}/api/auth/register", "host": ["{{base_url}}"], "path": ["api", "auth", "register"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Juan\",\n  \"correo\": \"juan@correo.com\",\n  \"contrasena\": \"12345\"\n}"
            }
          }
        },
        {
          "name": "Confirmar cuenta",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/api/auth/confirmar/:token", "host": ["{{base_url}}"], "path": ["api", "auth", "confirmar", ":token"] }
          }
        },
        {
          "name": "Iniciar sesión",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{base_url}}/api/auth/login", "host": ["{{base_url}}"], "path": ["api", "auth", "login"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"correo\": \"juan@correo.com\",\n  \"contrasena\": \"12345\"\n}"
            }
          }
        },
        {
          "name": "Recuperar contraseña (enviar correo)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{base_url}}/api/auth/recuperar-password", "host": ["{{base_url}}"], "path": ["api", "auth", "recuperar-password"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"correo\": \"juan@correo.com\"\n}"
            }
          }
        },
        {
          "name": "Comprobar token de recuperación",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/api/auth/recuperar-password/:token", "host": ["{{base_url}}"], "path": ["api", "auth", "recuperar-password", ":token"] }
          }
        },
        {
          "name": "Crear nueva contraseña",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "{{base_url}}/api/auth/recuperar-password/:token", "host": ["{{base_url}}"], "path": ["api", "auth", "recuperar-password", ":token"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"nueva123\",\n  \"confirmpassword\": \"nueva123\"\n}"
            }
          }
        },
        {
          "name": "Obtener perfil",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/auth/perfil", "host": ["{{base_url}}"], "path": ["api", "auth", "perfil"] }
          }
        },
        {
          "name": "Actualizar perfil",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/perfil", "host": ["{{base_url}}"], "path": ["api", "auth", "perfil"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Juan Actualizado\",\n  \"correo\": \"juan@correo.com\",\n  \"telefono\": \"123456789\"\n}"
            }
          }
        },
        {
          "name": "Actualizar contraseña desde perfil",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/auth/actualizar-password", "host": ["{{base_url}}"], "path": ["api", "auth", "actualizar-password"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"passwordactual\": \"12345\",\n  \"passwordnuevo\": \"nueva123\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Empresas",
      "item": [
        {
          "name": "Crear empresa",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/empresa/crear", "host": ["{{base_url}}"], "path": ["api", "empresa", "crear"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Empresa X\",\n  \"descripcion\": \"Descripción\",\n  \"direccion\": \"Calle 123\",\n  \"telefono\": \"555-1234\"\n}"
            }
          }
        },
        {
          "name": "Ver empleados",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/empleados", "host": ["{{base_url}}"], "path": ["api", "empresa", "empleados"] }
          }
        },
        {
          "name": "Unirse a empresa",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/empresa/unirse", "host": ["{{base_url}}"], "path": ["api", "empresa", "unirse"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"codigoInvitacion\"\n}"
            }
          }
        },
        {
          "name": "Actualizar empresa",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": { "raw": "{{base_url}}/api/empresa/actualizar", "host": ["{{base_url}}"], "path": ["api", "empresa", "actualizar"] },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Empresa X Actualizada\",\n  \"descripcion\": \"Nueva descripción\",\n  \"direccion\": \"Nueva dirección\",\n  \"telefono\": \"555-5678\"\n}"
            }
          }
        },
        {
          "name": "Ver mi empresa",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/mi-empresa", "host": ["{{base_url}}"], "path": ["api", "empresa", "mi-empresa"] }
          }
        },
        {
          "name": "Listar mis empresas",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/mis-empresas", "host": ["{{base_url}}"], "path": ["api", "empresa", "mis-empresas"] }
          }
        },
        {
          "name": "Seleccionar empresa",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/seleccionar/:id", "host": ["{{base_url}}"], "path": ["api", "empresa", "seleccionar", ":id"] }
          }
        },
        {
          "name": "Eliminar empresa",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/eliminar/:id", "host": ["{{base_url}}"], "path": ["api", "empresa", "eliminar", ":id"] }
          }
        },
        {
          "name": "Generar código de invitación",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/generar-invitacion", "host": ["{{base_url}}"], "path": ["api", "empresa", "generar-invitacion"] }
          }
        },
        {
          "name": "Expulsar empleado",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{base_url}}/api/empresa/expulsar/:id", "host": ["{{base_url}}"], "path": ["api", "empresa", "expulsar", ":id"] }
          }
        }
      ]
    }
  ],
  "variable": [
    { "key": "base_url", "value": "http://localhost:5000" },
    { "key": "token", "value": "" }
  ]
}